<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test: Responsive Breakpoints</title>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="ofcarousel.css">
  <style>
    /* ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
    .breakpoint-indicator {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #333;
      color: #fff;
      padding: 15px;
      border-radius: 8px;
      font-family: monospace;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      min-width: 200px;
    }
    .breakpoint-indicator .width {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 8px;
    }
    .breakpoint-indicator .name {
      font-size: 14px;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      margin-top: 5px;
    }
    .bp-mobile { background: #e91e63; }
    .bp-tablet { background: #ff9800; }
    .bp-desktop { background: #4caf50; }
    
    /* ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã”ã¨ã®è¦–è¦šçš„ãªåŒºåˆ¥ */
    .test-case {
      margin: 40px 0;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 8px;
      border: 2px solid #ddd;
    }
    
    /* ã‚¹ãƒ©ã‚¤ãƒ‰ã«ç¾åœ¨ã®è¨­å®šã‚’è¡¨ç¤º */
    .ofc-slide {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      font-weight: bold;
      position: relative;
    }
    
    /* ã‚¹ãƒ©ã‚¤ãƒ‰å†…ã®æƒ…å ±è¡¨ç¤º */
    .slide-info {
      position: absolute;
      bottom: 10px;
      left: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 8px;
      border-radius: 4px;
      font-size: 11px;
      font-family: monospace;
      line-height: 1.4;
    }
    
    /* ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®èƒŒæ™¯è‰² */
    @media (max-width: 480px) {
      body { background: linear-gradient(to bottom, #fce4ec 0%, #ffffff 100%); }
      .ofc-slide { border: 3px solid #e91e63; }
    }
    @media (min-width: 481px) and (max-width: 768px) {
      body { background: linear-gradient(to bottom, #fff3e0 0%, #ffffff 100%); }
      .ofc-slide { border: 3px solid #ff9800; }
    }
    @media (min-width: 769px) {
      body { background: linear-gradient(to bottom, #e8f5e9 0%, #ffffff 100%); }
      .ofc-slide { border: 3px solid #4caf50; }
    }
    
    .test-info {
      background: #e3f2fd;
      padding: 15px;
      margin: 20px 0;
      border-left: 4px solid #2196f3;
      border-radius: 4px;
    }
    .breakpoint-guide {
      background: #f3e5f5;
      border-left: 4px solid #9c27b0;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .current-settings {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: rgba(33, 33, 33, 0.95);
      color: #fff;
      padding: 15px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      max-width: 300px;
    }
    .current-settings h4 {
      margin: 0 0 10px 0;
      font-size: 14px;
      color: #4fc3f7;
    }
    .current-settings dl {
      margin: 0;
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 5px 10px;
    }
    .current-settings dt {
      color: #aaa;
    }
    .current-settings dd {
      margin: 0;
      color: #fff;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <a href="index.html" class="back-link">â† ãƒ‡ãƒ¢ä¸€è¦§ã«æˆ»ã‚‹</a>

  <div class="breakpoint-indicator">
    <div class="width"><span id="windowWidth">-</span>px</div>
    <div class="name" id="breakpointName">-</div>
  </div>

  <div class="current-settings" id="currentSettings">
    <h4>ğŸ“± Current Settings</h4>
    <dl>
      <dt>Items:</dt>
      <dd id="settingItems">-</dd>
      <dt>Peek:</dt>
      <dd id="settingPeek">-</dd>
      <dt>Gap:</dt>
      <dd id="settingGap">-</dd>
    </dl>
  </div>

  <h1>ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ</h1>

  <div class="test-info">
    <strong>ğŸ¯ ã“ã®æ©Ÿèƒ½ã«ã¤ã„ã¦:</strong>
    <p>ç”»é¢å¹…ã«å¿œã˜ã¦è‡ªå‹•çš„ã«ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã®è¨­å®šã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚</p>
    <ul>
      <li><strong>responsive ã‚ªãƒ—ã‚·ãƒ§ãƒ³:</strong> ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã”ã¨ã«ç•°ãªã‚‹è¨­å®šã‚’æŒ‡å®š</li>
      <li><strong>è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ:</strong> ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºæ™‚ã«æœ€é©ãªè¨­å®šã‚’é©ç”¨</li>
      <li><strong>ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ:</strong> å°ã•ã„ç”»é¢ã§ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ä½œ</li>
    </ul>
  </div>

  <div class="breakpoint-guide">
    <strong>ğŸ“ ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆä¸€è¦§:</strong>
    <ul>
      <li><strong>ï½480px (ã‚¹ãƒãƒ›ç¸¦)</strong>: 1æšè¡¨ç¤ºã€peekç„¡ã—</li>
      <li><strong>ï½768px (ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦)</strong>: 2æšè¡¨ç¤ºã€peek 5%</li>
      <li><strong>ï½1024px (ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆæ¨ª)</strong>: 3æšè¡¨ç¤ºã€peek 8%</li>
      <li><strong>1024pxï½ (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—)</strong>: 4æšè¡¨ç¤ºã€peek 10%</li>
    </ul>
    <p style="margin-top: 10px; font-size: 14px; color: #666;">
      ğŸ’¡ ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ãƒªã‚µã‚¤ã‚ºã—ã¦ã€å„ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã®å‹•ä½œã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
    </p>
  </div>

  <div class="test-case">
    <h3>Test 1: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚«ãƒ«ãƒ¼ã‚»ãƒ«</h3>
    <p class="demo-info">ç”»é¢å¹…ã«å¿œã˜ã¦ itemsVisible ã¨ peekRatio ãŒè‡ªå‹•å¤‰æ›´ã•ã‚Œã¾ã™</p>
    <section class="ofcarousel" id="carousel1">
      <div class="ofc-viewport">
        <div class="ofc-track">
          <div class="ofc-slide" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <span style="font-size: 48px;">1</span>
            <div class="slide-info">Slide 1</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <span style="font-size: 48px;">2</span>
            <div class="slide-info">Slide 2</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
            <span style="font-size: 48px;">3</span>
            <div class="slide-info">Slide 3</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
            <span style="font-size: 48px;">4</span>
            <div class="slide-info">Slide 4</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
            <span style="font-size: 48px;">5</span>
            <div class="slide-info">Slide 5</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
            <span style="font-size: 48px; color: white;">6</span>
            <div class="slide-info">Slide 6</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
            <span style="font-size: 48px;">7</span>
            <div class="slide-info">Slide 7</div>
          </div>
          <div class="ofc-slide" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
            <span style="font-size: 48px;">8</span>
            <div class="slide-info">Slide 8</div>
          </div>
        </div>
      </div>
      <div class="ofc-navs">
        <button class="ofc-nav ofc-prev" aria-label="å‰">â—€</button>
        <button class="ofc-nav ofc-next" aria-label="æ¬¡">â–¶</button>
      </div>
    </section>
  </section>

  <section class="demo-carousel">
    <h3>Test 2: peek=0 ã§ã®å‹•ä½œç¢ºèª</h3>
    <p class="demo-info">480pxä»¥ä¸‹ã§ peek ãŒå®Œå…¨ã«0ã«ãªã‚Šã¾ã™ï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼‰</p>
    <section class="ofcarousel" id="carousel2">
      <div class="ofc-viewport">
        <div class="ofc-track">
          <div class="ofc-slide">A</div>
          <div class="ofc-slide">B</div>
          <div class="ofc-slide">C</div>
          <div class="ofc-slide">D</div>
          <div class="ofc-slide">E</div>
        </div>
      </div>
      <div class="ofc-navs">
        <button class="ofc-nav ofc-prev" aria-label="å‰">â—€</button>
        <button class="ofc-nav ofc-next" aria-label="æ¬¡">â–¶</button>
      </div>
    </section>
  </section>

  <section class="demo-carousel">
    <h3>Test 3: gap ã‚‚å¤‰æ›´ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
    <p class="demo-info">ç”»é¢å¹…ã«å¿œã˜ã¦ gap ã‚‚å¤‰æ›´ã•ã‚Œã¾ã™</p>
    <section class="ofcarousel" id="carousel3">
      <div class="ofc-viewport">
        <div class="ofc-track">
          <div class="ofc-slide">ğŸ”´</div>
          <div class="ofc-slide">ğŸŸ¡</div>
          <div class="ofc-slide">ğŸŸ¢</div>
          <div class="ofc-slide">ğŸ”µ</div>
          <div class="ofc-slide">ğŸŸ£</div>
          <div class="ofc-slide">ğŸŸ </div>
        </div>
      </div>
      <div class="ofc-navs">
        <button class="ofc-nav ofc-prev" aria-label="å‰">â—€</button>
        <button class="ofc-nav ofc-next" aria-label="æ¬¡">â–¶</button>
      </div>
    </section>
  </section>

  <div class="note">
    <strong>âœ… æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ:</strong>
    <ul>
      <li>â˜ ã‚¹ãƒãƒ›ã‚µã‚¤ã‚ºï¼ˆ320pxï½480pxï¼‰ã§1æšè¡¨ç¤ºã€peekç„¡ã—ã«ãªã‚‹ã‹</li>
      <li>â˜ ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦ï¼ˆï½768pxï¼‰ã§2æšè¡¨ç¤ºã«ãªã‚‹ã‹</li>
      <li>â˜ ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆæ¨ªï¼ˆï½1024pxï¼‰ã§3æšè¡¨ç¤ºã«ãªã‚‹ã‹</li>
      <li>â˜ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼ˆ1024pxï½ï¼‰ã§4æšè¡¨ç¤ºã«ãªã‚‹ã‹</li>
      <li>â˜ ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆæ™‚ã«ã‚¹ãƒ©ã‚¤ãƒ‰ä½ç½®ãŒç¶­æŒã•ã‚Œã‚‹ã‹</li>
      <li>â˜ peek=0 ã§ã‚‚æ­£ã—ãå‹•ä½œã™ã‚‹ã‹</li>
      <li>â˜ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹</li>
    </ul>
  </div>

  <div class="note" style="background-color: #e8f5e9; border-left-color: #4caf50;">
    <strong>ğŸ’¡ ãƒ†ã‚¹ãƒˆã®ãƒ’ãƒ³ãƒˆ:</strong>
    <ul>
      <li>å³ä¸Šã®ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã§ç¾åœ¨ã®ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèªã§ãã¾ã™</li>
      <li>å³ä¸‹ã®ãƒ‘ãƒãƒ«ã§ç¾åœ¨ã®è¨­å®šå€¤ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º</li>
      <li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¢ãƒ¼ãƒ‰ãŒä¾¿åˆ©ã§ã™</li>
      <li>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆã®ãƒ­ã‚°ã‚’ç¢ºèªã§ãã¾ã™</li>
    </ul>
  </div>

  <script src="ofcarousel.js"></script>
  <script>
    // Breakpoint indicator
    function updateIndicator() {
      const width = window.innerWidth;
      document.getElementById('windowWidth').textContent = width;
      
      let breakpointName = '';
      if (width <= 480) {
        breakpointName = 'ğŸ“± ã‚¹ãƒãƒ›ç¸¦';
      } else if (width <= 768) {
        breakpointName = 'ğŸ“± ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦';
      } else if (width <= 1024) {
        breakpointName = 'ğŸ’» ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆæ¨ª';
      } else {
        breakpointName = 'ğŸ–¥ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—';
      }
      document.getElementById('breakpointName').textContent = breakpointName;
    }
    
    updateIndicator();
    window.addEventListener('resize', updateIndicator);

    console.log('Initializing responsive test carousels...');

    // Test 1: åŸºæœ¬çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³
    const c1 = new OverflowCarousel('#carousel1', {
      itemsVisible: 4,      // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰
      peekRatio: 0.1,
      infinite: true,
      responsive: {
        480: {
          itemsVisible: 1,
          peekRatio: 0       // peekç„¡ã—
        },
        768: {
          itemsVisible: 2,
          peekRatio: 0.05
        },
        1024: {
          itemsVisible: 3,
          peekRatio: 0.08
        }
      }
    });

    // Test 2: peek=0 ã§ã®å‹•ä½œç¢ºèª
    const c2 = new OverflowCarousel('#carousel2', {
      itemsVisible: 3,
      peekRatio: 0.15,
      infinite: true,
      responsive: {
        480: {
          itemsVisible: 1,
          peekRatio: 0       // å®Œå…¨ã«0
        },
        768: {
          itemsVisible: 2,
          peekRatio: 0.1
        }
      }
    });

    // Test 3: gap ã‚‚å¤‰æ›´
    const c3 = new OverflowCarousel('#carousel3', {
      itemsVisible: 4,
      peekRatio: 0.1,
      gap: '20px',
      infinite: true,
      responsive: {
        480: {
          itemsVisible: 1,
          peekRatio: 0,
          gap: '10px'        // gap ã‚‚å°ã•ã
        },
        768: {
          itemsVisible: 2,
          peekRatio: 0.05,
          gap: '15px'
        },
        1024: {
          itemsVisible: 3,
          peekRatio: 0.08,
          gap: '18px'
        }
      }
    });

    // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºã¨ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤ºã®æ›´æ–°
    function updateWindowSize() {
      const width = window.innerWidth;
      document.getElementById('windowWidth').textContent = width;
      
      // ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆåã¨è‰²ã‚’æ›´æ–°
      const nameElement = document.getElementById('breakpointName');
      if (width <= 480) {
        nameElement.textContent = 'ğŸ“± ã‚¹ãƒãƒ›ç¸¦';
        nameElement.className = 'name bp-mobile';
      } else if (width <= 768) {
        nameElement.textContent = 'ğŸ“± ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦';
        nameElement.className = 'name bp-tablet';
      } else if (width <= 1024) {
        nameElement.textContent = 'ğŸ’» ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆæ¨ª';
        nameElement.className = 'name bp-desktop';
      } else {
        nameElement.textContent = 'ğŸ–¥ï¸ ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—';
        nameElement.className = 'name bp-desktop';
      }
    }

    // è¨­å®šè¡¨ç¤ºã®æ›´æ–°
    function updateCurrentSettings() {
      const width = window.innerWidth;
      let items, peek, gap;
      
      // Test 1 ã®è¨­å®šã‚’è¡¨ç¤º
      if (width <= 480) {
        items = 1;
        peek = '0px';
        gap = '10px';
      } else if (width <= 768) {
        items = 2;
        peek = '5%';
        gap = '15px';
      } else if (width <= 1024) {
        items = 3;
        peek = '8%';
        gap = '18px';
      } else {
        items = 4;
        peek = '10%';
        gap = '20px';
      }
      
      document.getElementById('settingItems').textContent = items;
      document.getElementById('settingPeek').textContent = peek;
      document.getElementById('settingGap').textContent = gap;
    }
    
    function updateAll() {
      updateWindowSize();
      updateCurrentSettings();
    }
    
    updateAll();
    window.addEventListener('resize', updateAll);

    console.log('All responsive test carousels initialized.');
    console.log('ğŸ’¡ Resize the window to see breakpoint changes in action!');
  </script>
</body>
</html>
